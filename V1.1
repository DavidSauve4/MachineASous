//Machine à sous
//2023 David Sauvé

import processing.core.*;
import processing.event.KeyEvent;

public class SlotMachine extends PApplet {
    int[] slots = new int[3];
    String[] symbols = {"A", "B", "C", "D", "E", "F", "G", "H"};
    boolean spinning = false;

    public static void main(String[] args) {
        PApplet.main("SlotMachine");
    }

    public void settings() {
        size(400, 200);
    }

    public void setup() {
        textAlign(CENTER, CENTER);
        textSize(36);
        spinSlots();
    }

    public void draw() {
        background(0);
        displaySlots();
        if (spinning) {
            spinSlots();
            delay(100);
        }
    }

    public void spinSlots() {
        for (int i = 0; i < slots.length; i++) {
            slots[i] = (int) random(symbols.length);
        }
    }

    public void displaySlots() {
        for (int i = 0; i < slots.length; i++) {
            text(symbols[slots[i]], width / 4 * (i + 1), height / 2);
        }
    }

    @Override
    public void keyPressed(KeyEvent event) {
        if (event.getKey() == ' ') {
            spinning = !spinning;
        }
    }
}

